---
import "../styles/global.css";
const { title = "Daniel Marek" } = Astro.props;
const baseUrl = import.meta.env.BASE_URL;
const navLinks = [
  { href: "", label: "Home" },
  { href: "about", label: "About" },
  { href: "projects", label: "Projects" },
  { href: "papers", label: "Publications" },
  { href: "achievements", label: "Achievements" },
];
---


<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body class="relative overflow-x-hidden bg-[#0b1020] font-sans text-slate-200">
    <!-- Background glow -->
    <div class="pointer-events-none fixed inset-0 z-0">
      <div
        class="drift-slow absolute left-[-10%] top-[-20%] h-[800px] w-[800px] rounded-full bg-cyan-500/25 blur-[150px]"
      >
      </div>
      <div
        class="drift-slower absolute bottom-[-20%] right-[-10%] h-[700px] w-[700px] rounded-full bg-blue-600/20 blur-[150px]"
      >
      </div>
    </div>

    <!-- Navigation -->
    <header
      class="fixed left-0 top-0 z-20 w-full border-b border-slate-800 bg-slate-900/60 backdrop-blur-md"
    >
      <div class="mx-auto flex h-16 max-w-6xl items-center justify-between px-6">
        <span class="text-sm tracking-wide text-slate-300">Daniel Marek</span>

        <nav class="hidden space-x-6 text-sm text-slate-400 md:flex">
          {
            navLinks.map(({ href, label }) => (
              <a href={`${baseUrl}${href}`} class="transition hover:text-white">
                {label}
              </a>
            ))
          }
        </nav>

        <button
          id="menu-btn"
          class="text-slate-300 md:hidden"
          aria-expanded="false"
          aria-controls="mobile-menu"
          aria-label="Toggle navigation menu"
        >
          â˜°
        </button>
      </div>
    </header>

    <div
      id="mobile-menu"
      class="fixed left-0 top-16 z-20 hidden w-full border-b border-slate-800 bg-slate-900/95 backdrop-blur-md md:hidden"
    >
      <div class="flex flex-col space-y-4 px-6 py-6 text-slate-300">
        {
          navLinks.map(({ href, label }) => (
            <a href={`${baseUrl}${href}`} class="transition hover:text-white">
              {label}
            </a>
          ))
        }
      </div>
    </div>

    <main class="relative z-10">
      <slot />
    </main>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const btn = document.getElementById("menu-btn");
        const menu = document.getElementById("mobile-menu");
        if (!btn || !menu) return;

        btn.addEventListener("click", () => {
          const isHidden = menu.classList.toggle("hidden");
          btn.setAttribute("aria-expanded", String(!isHidden));
        });

        menu.querySelectorAll("a").forEach((link) => {
          link.addEventListener("click", () => {
            menu.classList.add("hidden");
            btn.setAttribute("aria-expanded", "false");
          });
        });
      });
    </script>
  </body>
</html>
